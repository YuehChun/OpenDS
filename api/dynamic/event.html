<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>婉君護台灣 :: 101倒塌事件</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">
	<!--link rel="stylesheet/less" href="less/bootstrap.less" type="text/css" /-->
	<!--link rel="stylesheet/less" href="less/responsive.less" type="text/css" /-->
	<!--script src="js/less-1.3.3.min.js"></script-->
	<!--append ‘#!watch’ to the browser URL, then refresh the page. -->

	<link href="css/bootstrap.min.css" rel="stylesheet">
	<link href="css/style.css" rel="stylesheet">
    <link href="css/jquery.loadmask.css" rel="stylesheet">

  <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
  <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
  <![endif]-->

  <!-- Fav and touch icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="img/apple-touch-icon-144-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="img/apple-touch-icon-114-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="img/apple-touch-icon-72-precomposed.png">
  <link rel="apple-touch-icon-precomposed" href="img/apple-touch-icon-57-precomposed.png">
  <link rel="shortcut icon" href="img/favicon.png">
	<script type="text/javascript" src="js/jquery.min.js"></script>
	<script type="text/javascript" src="js/bootstrap.min.js"></script>
    <script type="text/javascript">

function deleteInj(){
    $.get("http://opends2.azurewebsites.net/test.php?Type=Injured&PerID=1&IP=1.1.1.1",function( result ){
        var DeleteObj = JSON.parse(result);
        alert(DeleteObj.state);
    });
}

function deleteDis(){
    $.get("http://opends2.azurewebsites.net/test.php?Type=Disaster&PerID=1&IP=1.1.1.1",function( result ){
        var DeleteObj = JSON.parse(result);
        alert(DeleteObj.state);
    });
}

function deleteSup(){
    $.get("http://opends2.azurewebsites.net/test.php?Type=Supplies&PerID=1&IP=1.1.1.1",function( result ){
        var DeleteObj = JSON.parse(result);
        alert(DeleteObj.state);
    });
}
function deleteALLInj(){
    $.get("http://opends2.azurewebsites.net/test.php?all=Injured",function( result ){
        var DeleteObj = JSON.parse(result);
        alert(DeleteObj.state);
    });
}

function deleteALLDis(){
    $.get("http://opends2.azurewebsites.net/test.php?all=Disaster",function( result ){
        var DeleteObj = JSON.parse(result);
        alert(DeleteObj.state);
    });
}

function deleteALLSup(){
    $.get("http://opends2.azurewebsites.net/test.php?all=Supplies",function( result ){
        var DeleteObj = JSON.parse(result);
        alert(DeleteObj.state);
    });
}
function deleteALLAmb(){
    $.get("http://opends2.azurewebsites.net/test.php?all=Ambulance",function( result ){
        var DeleteObj = JSON.parse(result);
        alert(DeleteObj.state);
    });
}
function deleteALLPer(){
    $.get("http://opends2.azurewebsites.net/test.php?all=Person",function( result ){
        var DeleteObj = JSON.parse(result);
        alert(DeleteObj.state);
    });
}



function newPer(){
    var N=$("#TextPer").val();
    if( N == "undefined" || N == ""){
        alert("請輸入一個數值");
    }else{
        $.get("http://opends2.azurewebsites.net/test.php?GET=Person&N=" + N ,function(result){
            alert("OK");
        });
    }
}
function newInj(){
    var N=$("#TextInj").val();
    if( N == "undefined" || N == ""){
        alert("請輸入一個數值");
    }else{
        $.get("http://opends2.azurewebsites.net/test.php?GET=Injured&N=" + N ,function(result){
            var InjuredObj = JSON.parse(result);
            for(var a=0 ;a<InjuredObj.length;a++){
              var TempObj=InjuredObj[a];
              var Para = "Type=Per&PerID=1&IP=1.1.1.1&lat="+TempObj.lat+"&lng="+TempObj.lng;
              $.post("http://opends2.azurewebsites.net/api/dynamic/InjuredInit.php?" + Para ,{
                "Injured_Name": TempObj.Injured_Name ,
                "Contact_Name":TempObj.Contact_Name ,
                "Contact_Phone":TempObj.Contact_Phone ,
                "Injured_Sex":TempObj.Injured_Sex,
                "injured_area":TempObj.injuredArea ,
                "injured_Cause":TempObj.injuredCause ,
                "injured_Status":TempObj.injuredStatus},function(result){
                    // alert(result);
              });
            }
            alert("OK");
        });
    }
}

function newDis(){
    var N=$("#TextDis").val();
    if( N == "undefined" || N == ""){
        alert("請輸入一個數值");
    }else{
        $.get("http://opends2.azurewebsites.net/test.php?GET=Disaster&N=" + N ,function(result){
            var DisasterObj = JSON.parse(result);
            for(var a=0 ;a<DisasterObj.length;a++){
                var TempObj=DisasterObj[a];
                var Para = "PerID=1&IP=1.1.1.1&lat="+TempObj.lat+"&lng="+TempObj.lng;
                $.post("http://opends2.azurewebsites.net/api/dynamic/DisasterInit.php?" + Para ,{"RoadStatus" : TempObj.RoadStatus , "Scope" : TempObj.Scope , "CarPass" : TempObj.CarPass , "DisStatus" : TempObj.DisStatus },function(result){
                    // alert(result);
                });
            }
        });
    }
}
function newSup(){
    var N=$("#TextSup").val();
    if( N == "undefined" || N == ""){
        alert("請輸入一個數值");
    }else{
        $.get("http://opends2.azurewebsites.net/test.php?GET=Supplies&N=" + N ,function(result){
            var SuppliesObj = JSON.parse(result);
            for(var a=0 ;a<SuppliesObj.length;a++){
                var TempObj=SuppliesObj[a];
                var Para = "PerID=1&IP=1.1.1.1&lat="+TempObj.lat+"&lng="+TempObj.lng;
                $.post("http://opends2.azurewebsites.net/api/dynamic/SuppliesInit.php?" + Para ,{"Items" : TempObj.Items ,"PersonNumber" : TempObj.PersonNumber },function(result){
                    // alert(result);
                });
            }
        });
    }
}

    </script>

    <script>
        var AmbulanceObj={};
        function AmbGetTask(AmbType){
            if(AmbType=="2"){
                for(var RowAmb in AmbulanceObj){
                  $.post("http://opends2.azurewebsites.net/api/dynamic/injuredProcess.php", {"status" : "2" , "AmbID": AmbulanceObj[RowAmb].AmbID ,"IP" : AmbulanceObj[RowAmb].IP,"InjID" : AmbulanceObj[RowAmb].InjID},function(result){
                      // alert(result);
                      var UpdateObj = JSON.parse(result);
                  });
                }
                alert("完成");
            }else if(AmbType=="3"){
                for(var RowAmb in AmbulanceObj){
                  $.post("http://opends2.azurewebsites.net/api/dynamic/injuredProcess.php", {"status" : "3" , "AmbID": AmbulanceObj[RowAmb].AmbID ,"IP" : AmbulanceObj[RowAmb].IP,"InjID" : AmbulanceObj[RowAmb].InjID},function(result){
                      // alert(result);
                      var UpdateObj = JSON.parse(result);
                  });
                }
                alert("完成");
            }else if(AmbType=="0"){
                for(var RowAmb in AmbulanceObj){
                    $.get("http://opends2.azurewebsites.net/api/dynamic/ambulanceTask.php?AmbID=" + AmbulanceObj[RowAmb].AmbID , function( result ){
                        alert(result);
                        var TempObj = JSON.parse(result);
                        if(TempObj.injured=="Wait"){
                            alert("等候傷患中");
                        }else{
                            AmbulanceObj[TempObj.Amb.AmbID].InjID=TempObj.injured.InjuredPeopleID;   
                        }
                        // alert(AmbulanceObj[TempObj.Amb.AmbID].InjID);
                    });
                }
                alert("完成");
            }
        }
        function newAmb(){
            var N=$("#TextAmb").val();
            if( N == "undefined" || N == ""){
                alert("請輸入一個數值");
            }else{
                $.get("http://opends2.azurewebsites.net/test.php?GET=Ambulance&N=" + N , function(result){
                    TempObj = JSON.parse(result);
                    for(var a=0 ; a<TempObj.length;a++){
                        var AmbID = TempObj[a].AmbID;
                        AmbulanceObj[AmbID]=TempObj[a];
                    }
                    alert("完成");
                });
            }
        }

    </script>
    <script>
      var minNum = 0;  
      function UpdateHos() {
        //543
          for(var hid=1;hid<543;hid++)
          {
            var thb =(hid>10)?100:300;
            var tsr =(hid>10)?5:10;
            var ahb = Math.floor(Math.random() * (thb - minNum + 1)) + minNum;
            var asr = Math.floor(Math.random() * (tsr - minNum + 1)) + minNum;
            var url = "http://opends2.azurewebsites.net/api/dynamic/hospitalUpdate.php?HID="+hid+"&AHB="+ahb+"&THB="+thb+"&ASR="+asr+"&TSR="+tsr;
            $.get(url,function(result){
                // alert(result);
            });
          }
      }
      
          
    </script>
</head>


<body>
<div class="container">
    <div class="row clearfix">
        <div class="col-md-12 column">
            <h3> 當恐怖組織進攻台灣！101  突然倒塌！？</h3>
            <div class="panel-group" id="panel-main">
                <div class="panel panel-default">
                    <div class="panel-heading">
                         <a class="panel-title collapsed" data-toggle="collapse" data-parent="#panel-main" href="#panel-person">網軍進攻</a>
                    </div>
                    <div id="panel-person" class="panel-collapse collapse">
                        <div class="panel-body row">
                            <div class="col-md-4">
                                <h5> 建立傷患點</h5>
                                <div class="input-group">
                                    <input id="TextInj" type="text" class="form-control" placeholder="10" value="10">
                                  <span class="input-group-btn">
                                    <button type="button" class="btn btn-primary" onclick="newInj();"> 新增傷患 </button>
                                  </span>
                                </div><!-- /input-group -->
                            </div>
                        </div>
                        <div class="panel-body row">
                            <div class="col-md-4">
                                <h5> 建立物資點</h5>
                                <div class="input-group">
                                    <input id="TextSup" type="text" class="form-control" placeholder="10" value="10">
                                  <span class="input-group-btn">
                                    <button type="button" class="btn btn-primary" onclick="newSup();"> 新增物資 </button>
                                  </span>
                                </div><!-- /input-group -->
                            </div>
                        </div>
                        <div class="panel-body row">
                            <div class="col-md-4">
                                <h5> 建立災難點</h5>
                                <div class="input-group">
                                    <input id="TextDis" type="text" class="form-control" placeholder="10" value="10">
                                  <span class="input-group-btn">
                                    <button type="button" class="btn btn-primary" onclick="newDis();"> 新增周圍癱瘓路口 </button>
                                  </span>
                                </div><!-- /input-group -->
                            </div>
                        </div>
                        <div class="panel-body row">
                            <div class="col-md-4">
                                <h5> 建立婉君出沒</h5>
                                <div class="input-group">
                                    <input id="TextPer" type="text" class="form-control" placeholder="100" value="100">
                                      <span class="input-group-btn">
                                        <button type="button" class="btn btn-primary" onclick="newPer();"> 新增大量婉君 </button>
                                      </span>
                                </div><!-- /input-group -->
                            </div>
                        </div>
                    </div>
                </div>
                <div class="panel panel-default">
                    <div class="panel-heading">
                         <a class="panel-title collapsed" data-toggle="collapse" data-parent="#panel-main" href="#panel-amb">救護車救援</a>
                    </div>
                    <div id="panel-amb" class="panel-collapse collapse">
                        <div class="panel-body row">
                            <div class="col-md-4">
                                <h5> 建立救護車</h5>
                                <div class="input-group">
                                    <input id="TextAmb" type="text" class="form-control" placeholder="8" value="8">
                                      <span class="input-group-btn">
                                        <button type="button" class="btn btn-warning" onclick="newAmb();"> 新增救護車 </button>
                                      </span>
                                </div><!-- /input-group -->
                            </div>
                        </div>
                        <div class="panel-body row">
                            <div class="col-md-4">
                                <h5> 救護車指令 </h5>
                                <button type="button" class="btn btn-default" onclick="AmbGetTask('0');"> 接獲任務 </button>
                                <button type="button" class="btn btn-info" onclick="AmbGetTask('2');"> 接到傷患 </button>
                                <button type="button" class="btn btn-primary" onclick="AmbGetTask('3');"> 送達醫院 </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="panel panel-default">
                    <div class="panel-heading">
                         <a class="panel-title collapsed" data-toggle="collapse" data-parent="#panel-main" href="#panel-hos">醫院設定</a>
                    </div>
                    <div id="panel-hos" class="panel-collapse collapse">
                        <div class="panel-body row">
                            <div class="col-md-4">
                                <h5> 空床數量</h5>
                                <button type="button" class="btn btn-warning" onclick="UpdateHos();"> 設定 </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="panel panel-default">
                    <div class="panel-heading">
                         <a class="panel-title collapsed" data-toggle="collapse" data-parent="#panel-main" href="#panel-clean">清除所有項目</a>
                    </div>
                    <div id="panel-clean" class="panel-collapse collapse">
                        <div class="panel-body">
                            <h5> 清除事件資料 </h5>
                            <button type="button" class="btn btn-warning" onclick="deleteInj()"> 清除傷患點（ＡＬＬ） </button>
                            <button type="button" class="btn btn-warning" onclick="deleteDis()"> 清除災害點（ＡＬＬ） </button>
                            <button type="button" class="btn btn-warning" onclick="deleteSup()"> 清除物資點（ＡＬＬ） </button>
                            <button type="button" class="btn btn-warning" onclick="deleteAmb()"> 清除救護車（ＡＬＬ） </button>
                        </div>
                        <div class="panel-body">
                            <h5> 清除所有資料 </h5>
                            <button type="button" class="btn btn-danger" onclick="deleteALLInj()"> 清除傷患點（ＡＬＬ） </button>
                            <button type="button" class="btn btn-danger" onclick="deleteALLDis()"> 清除災害點（ＡＬＬ） </button>
                            <button type="button" class="btn btn-danger" onclick="deleteALLSup()"> 清除物資點（ＡＬＬ） </button>
                            <button type="button" class="btn btn-danger" onclick="deleteALLAmb()"> 清除救護車（ＡＬＬ） </button>
                            <button type="button" class="btn btn-danger" onclick="deleteALLPer()"> 清除婉君（ＡＬＬ） </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>
